<?xml version="1.0" encoding="utf-8"?>
<search>
  
  
  
  <entry>
    <title>左下角小马2</title>
    <link href="/space/2024/01/22/%E5%B7%A6%E4%B8%8B%E8%A7%92%E5%B0%8F%E9%A9%AC2/"/>
    <url>/space/2024/01/22/%E5%B7%A6%E4%B8%8B%E8%A7%92%E5%B0%8F%E9%A9%AC2/</url>
    
    <content type="html"><![CDATA[<p>live2d小马模型更新！</p><span id="more"></span><h2 id="🌱起因">🌱起因</h2><p>大概一两个月前偶然购买了一个live2d小马模型的使用权，虽然是别人的设子，但是这个模型有比较丰富的小配件和表情，展示效果应当比之前更生动。不过之前使用的“授之以鱼”版的加载脚本似乎并不支持表情切换，所以这次只好亲自动手，从源头开始寻找实现方法。</p><h2 id="🍃方法">🍃方法</h2><p>网上关于live2d网页展示的项目不少，但是大部分都是帮你部署好的模型，只需插入一行<code>&lt;script&gt;</code>就可以使用，还是属于授之以鱼。若是想部署自己的模型，可供查阅的信息就少了，例如我最开始是从<a href="https://www.bilibili.com/read/cv13728486/">这篇文章</a>开始参考的。不过追根溯源，其实现在市面上大部分live2d预览软件，其开发都是基于Live2d Cubsim提供的<a href="https://www.live2d.com/zh-CHS/sdk/about/">SDK</a>，因此在本篇教程中，我们将从它的Web SDK源代码入手，介绍如何在此基础上修改得到想要的功能。</p><h2 id="🌿实现">🌿实现</h2><p>我们的目标是在网页上加载live2d模型，并且支持表情切换。为此，我们分为如下步骤：</p><h3 id="准备阶段">准备阶段</h3><p>在开始前，我们需要满足如下前置条件：</p><ul><li>live2d模型，需要至少包含.moc3, .model3.json, .physics3.json以及texture文件；</li><li>Live2d Cubsim Web SDK，下载链接见上文；</li><li>vscode或者其它IDE；</li><li>对DOM模型交互过程有基本理解，能够大致读懂javascript和typescript代码以便进行修改；</li></ul><h3 id="表情文件生成">表情文件生成</h3><p>我们通过Live2D Cubism Viewer软件打开live2d模型，这里我使用的版本是4.2。通过软件的表情编辑器可以设计表情，当然这里设计的灵活程度取决于模型作者在制作模型时绑定的部件数量以及物理效果等因素。设计完成之后导出相应的.json文件：</p><p><img src="https://img2.imgtp.com/2024/01/22/aUi8l9V4.png" alt="live2d viewer界面"></p><p>接下来将生成的表情文件放在<code>expression</code>目录下，然后打开<code>pony.model3.json</code>查看表情文件是否正确绑定。具体而言，我们需要在里面增加一个名称为<code>Expressions</code>的数组（如果之前不存在的话），在其中指明表情的名称和路径。例如以下是一个示例配置：</p><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><code class="hljs json"><span class="hljs-comment">// pony.model3.json</span><br><span class="hljs-punctuation">&#123;</span><br><span class="hljs-attr">&quot;Version&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-number">3</span><span class="hljs-punctuation">,</span><br><span class="hljs-attr">&quot;FileReferences&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">&#123;</span><br><span class="hljs-attr">&quot;Moc&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;pony.moc3&quot;</span><span class="hljs-punctuation">,</span><br><span class="hljs-attr">&quot;Textures&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span><br><span class="hljs-string">&quot;pony.2048/texture_00.png&quot;</span><br><span class="hljs-punctuation">]</span><span class="hljs-punctuation">,</span><br><span class="hljs-attr">&quot;Physics&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;pony.physics3.json&quot;</span><span class="hljs-punctuation">,</span><br><span class="hljs-attr">&quot;DisplayInfo&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;pony.cdi3.json&quot;</span><span class="hljs-punctuation">,</span><br><span class="hljs-attr">&quot;Expressions&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span><br><span class="hljs-punctuation">&#123;</span><br><span class="hljs-attr">&quot;Name&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;makeface&quot;</span><span class="hljs-punctuation">,</span><br><span class="hljs-attr">&quot;File&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;expressions/makeface.exp3.json&quot;</span><br><span class="hljs-punctuation">&#125;</span><span class="hljs-punctuation">,</span><br><span class="hljs-punctuation">&#123;</span><br><span class="hljs-attr">&quot;Name&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;happy&quot;</span><span class="hljs-punctuation">,</span><br><span class="hljs-attr">&quot;File&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;expressions/happy.exp3.json&quot;</span><br><span class="hljs-punctuation">&#125;</span><br><span class="hljs-punctuation">]</span><br><span class="hljs-punctuation">&#125;</span><span class="hljs-punctuation">,</span><br><span class="hljs-punctuation">&#125;</span><br></code></pre></td></tr></table></figure><p>我们也可以看看expression文件里面长什么样：</p><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><code class="hljs json"><span class="hljs-comment">// happy.exp3.json</span><br><span class="hljs-punctuation">&#123;</span><br><span class="hljs-attr">&quot;Type&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;Live2D Expression&quot;</span><span class="hljs-punctuation">,</span><br><span class="hljs-attr">&quot;Parameters&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span><br><span class="hljs-punctuation">&#123;</span><br><span class="hljs-attr">&quot;Id&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;ParamMouthForm&quot;</span><span class="hljs-punctuation">,</span><br><span class="hljs-attr">&quot;Value&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-number">1</span><span class="hljs-punctuation">,</span><br><span class="hljs-attr">&quot;Blend&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;Add&quot;</span><br><span class="hljs-punctuation">&#125;</span><br><span class="hljs-punctuation">]</span><br><span class="hljs-punctuation">&#125;</span><br></code></pre></td></tr></table></figure><p>可以看见其实是指明了表情涉及的部件、值以及混合方法。</p><h3 id="WebSDK修改">WebSDK修改</h3><p>我这里使用的SDK版本是<code>CubismSdkForWeb-4-r.7</code>，在vscode中打开此项目，注意需要提前安装好npm。</p><p>我们需要关注的部分目录结构如下：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs bash">Core/<span class="hljs-comment">#编译好的live2d模型解析相关的核心js代码</span><br>Framework/ <span class="hljs-comment">#解析模型源文件，进行数学运算和物理渲染相关的ts代码</span><br>Samples/   <span class="hljs-comment">#示例web项目</span><br> - Resources <span class="hljs-comment">#示例live2d模型</span><br> - TypeScript<span class="hljs-comment">#示例项目的源文件</span><br>README.md  <span class="hljs-comment">#英文的基本信息介绍</span><br></code></pre></td></tr></table></figure><p>跟着Cubsim官网文档走可以学习如何在本机跑起来样例代码。这里我们直接看到<code>Samples/TypeScript/src</code>目录下的ts文件，这些是web展示相关的代码，也是我们需要修改的地方，目录结构如下：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><code class="hljs bash">lappdefine.ts <span class="hljs-comment">#定义了一些基本变量</span><br>lappdelegate.ts <span class="hljs-comment">#webgl初始化及canvas回调函数绑定</span><br>lapplive2dmanager.ts <span class="hljs-comment">#live2d交互的回调函数实现</span><br>lappmodel.ts <span class="hljs-comment">#载入模型(包括动作表情和物理效果等)</span><br>lappal.ts <span class="hljs-comment">#Cubism Platform Abstraction Layer</span><br>lappsprite.ts <span class="hljs-comment">#画面sprite类</span><br>lapptexturemanager.ts<span class="hljs-comment">#纹理加载</span><br>lappview.ts <span class="hljs-comment">#视图管理，包括一些回调函数</span><br>lappwavfilehandler.ts<span class="hljs-comment">#口型文件处理</span><br>main.ts <span class="hljs-comment">#入口函数</span><br>touchmanager.ts <span class="hljs-comment">#视线追踪</span><br></code></pre></td></tr></table></figure><p>感觉理解所有代码还是比较困难的，幸运的是为了实现我们的目标，其实不需要理解太多代码逻辑，经过一番探索，归纳如下：</p><ol><li><p>修改<code>lappdefine.ts</code>中的一些初始化常量（例如canvas大小），并且增加接口用于自定义模型存放的路径。注意为了能够对外面的js代码可见，一种简单的操作是把这个函数挂载到window对象下：</p><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs typescript"><span class="hljs-comment">// lappdefine.ts</span><br><span class="hljs-keyword">function</span> <span class="hljs-title function_">initPath</span>(<span class="hljs-params">resourcesPath: <span class="hljs-built_in">string</span>, modelDir: <span class="hljs-built_in">string</span>[]</span>): <span class="hljs-built_in">void</span>&#123;<br>  <span class="hljs-title class_">ResourcesPath</span> = resourcesPath;<br>  <span class="hljs-title class_">ModelDir</span> = modelDir;<br>  <span class="hljs-title class_">ModelDirSize</span> = <span class="hljs-title class_">ModelDir</span>.<span class="hljs-property">length</span>;<br>&#125;<br><span class="hljs-keyword">export</span> <span class="hljs-keyword">const</span> <span class="hljs-attr">win</span>:<span class="hljs-built_in">any</span> = <span class="hljs-variable language_">window</span>;<span class="hljs-comment">//window就是DOM中的window对象</span><br>win.<span class="hljs-property">initPath</span> = initPath;<br></code></pre></td></tr></table></figure></li><li><p>修改<code>lappdelegate.ts</code>中回调函数的绑定。例如当需要全屏视线追踪光标的功能时，可以把<code>onMouseMoved</code>函数绑定到<code>window</code>对象下而非<code>canvas</code>对象</p></li><li><p>修改<code>lapplive2dmanager.ts</code>。首先把<code>setRandomExpression()</code>的调用位置改一下，原来的逻辑是判断点击位置是否是头部再决定是否触发表情切换，但我这里的模型在制作时并没有设置区域重叠检测，所以只好改成无条件触发；然后将其中的切换模型函数逻辑更改为让模型消失/显现，因为这里我只有一个模型，切换模型的功能没啥用</p><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><code class="hljs typescript"><span class="hljs-comment">//lapplive2dmanager.ts</span><br>  <span class="hljs-comment">/** 让模型消失或者显现 */</span><br>  <span class="hljs-keyword">public</span> <span class="hljs-title function_">changeModelDisplay</span>(): <span class="hljs-built_in">void</span> &#123;<br>    <span class="hljs-keyword">if</span> (<span class="hljs-title class_">LAppDefine</span>.<span class="hljs-property">DebugLogEnable</span>) &#123;<br>      <span class="hljs-title class_">LAppPal</span>.<span class="hljs-title function_">printMessage</span>(<span class="hljs-string">`[APP]change model display: <span class="hljs-subst">$&#123;<span class="hljs-variable language_">this</span>._sceneIndex&#125;</span>`</span>);<br>    &#125;<br>    <span class="hljs-keyword">if</span> (<span class="hljs-variable language_">this</span>.<span class="hljs-property">display_model</span>)&#123;<br>      <span class="hljs-variable language_">this</span>.<span class="hljs-property">display_model</span> = <span class="hljs-literal">false</span>;<br>      <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">releaseAllModel</span>();<br>    &#125; <span class="hljs-keyword">else</span> &#123;<br>      <span class="hljs-variable language_">this</span>.<span class="hljs-property">display_model</span> = <span class="hljs-literal">true</span>;<br>      <span class="hljs-variable language_">this</span>.<span class="hljs-property">_models</span>.<span class="hljs-title function_">pushBack</span>(<span class="hljs-keyword">new</span> <span class="hljs-title class_">LAppModel</span>());<br>      <span class="hljs-keyword">const</span> index = <span class="hljs-variable language_">this</span>.<span class="hljs-property">_sceneIndex</span>;<br>      <span class="hljs-keyword">const</span> <span class="hljs-attr">model</span>: <span class="hljs-built_in">string</span> = <span class="hljs-title class_">LAppDefine</span>.<span class="hljs-property">ModelDir</span>[index];<br>      <span class="hljs-keyword">const</span> <span class="hljs-attr">modelPath</span>: <span class="hljs-built_in">string</span> = <span class="hljs-title class_">LAppDefine</span>.<span class="hljs-property">ResourcesPath</span> + model + <span class="hljs-string">&#x27;/&#x27;</span>;<br>      <span class="hljs-keyword">let</span> <span class="hljs-attr">modelJsonName</span>: <span class="hljs-built_in">string</span> = <span class="hljs-title class_">LAppDefine</span>.<span class="hljs-property">ModelDir</span>[index];<br>      modelJsonName += <span class="hljs-string">&#x27;.model3.json&#x27;</span>;<br>      <span class="hljs-variable language_">this</span>.<span class="hljs-property">_models</span>.<span class="hljs-title function_">at</span>(<span class="hljs-number">0</span>).<span class="hljs-title function_">loadAssets</span>(modelPath, modelJsonName);<br>    &#125;<br>  &#125;<br></code></pre></td></tr></table></figure></li><li><p><code>lapptexturemanager.ts</code>中加载纹理图片时，需要给<code>img</code>对象标记允许跨源访问，否则部署在cdn上的模型文件会因为违反跨源规则而无法在网页上显示：</p><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs typescript"><span class="hljs-comment">// public createTextureFromPngFile</span><br><span class="hljs-keyword">const</span> img = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Image</span>();<br>    img.<span class="hljs-property">crossOrigin</span> = <span class="hljs-string">&quot;Anonymous&quot;</span>; <span class="hljs-comment">// 跨源访问</span><br></code></pre></td></tr></table></figure></li><li><p>构建打包：在vscode中通过<code>ctrl+shift+b</code>执行npm build任务，然后找到<code>Samples\TypeScript\Demo\dist\bundle.js</code>以及<code>Core\live2dcubismcore.js</code>两个文件，将它们复制到我们的网站目录下即可</p></li></ol><h3 id="整合至现有项目">整合至现有项目</h3><p>上一小节中的代码实现了模型的加载与展示，但是我们还需要把导出的两个javascript文件整合到网页源码中。为了简洁起见，这次我们不再增加上次的对话功能：</p><ol><li><p>增加css规则用来控制canvas的大小与透明度；</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><code class="hljs css"><span class="hljs-comment">/*live2d.css*/</span><br><span class="hljs-selector-tag">canvas</span><span class="hljs-selector-class">.live2d</span> &#123;<br>    <span class="hljs-attribute">position</span>: fixed;<br>    <span class="hljs-attribute">left</span>: <span class="hljs-number">0px</span>;<br>    <span class="hljs-attribute">bottom</span>: <span class="hljs-number">0px</span>;<br>    <span class="hljs-attribute">opacity</span>: <span class="hljs-number">75%</span>;<br>&#125;<br><span class="hljs-comment">/*在宽度小于600px的设备上缩小canvas大小*/</span><br><span class="hljs-keyword">@media</span> (<span class="hljs-attribute">max-width</span>: <span class="hljs-number">600px</span>) &#123;<br>    <span class="hljs-selector-tag">canvas</span><span class="hljs-selector-class">.live2d</span> &#123;<br>        <span class="hljs-attribute">width</span>: <span class="hljs-number">200px</span>;<br>        <span class="hljs-attribute">height</span>: <span class="hljs-number">200px</span>;<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure></li><li><p>由于live2d模型较大，加载持续时间较长，因此增加一个旋转的圈圈来提醒用户耐心等待。这里采用css实现：</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><code class="hljs css"><span class="hljs-comment">/*loading.css*/</span><br><span class="hljs-selector-class">.loading</span> &#123;<br>  <span class="hljs-attribute">width</span>: <span class="hljs-number">100px</span>;<br>  <span class="hljs-attribute">height</span>: <span class="hljs-number">100px</span>;<br>  <span class="hljs-attribute">border</span>: <span class="hljs-number">6px</span> solid <span class="hljs-number">#000</span>;<br>  <span class="hljs-attribute">border-top-color</span>: transparent;<br>  <span class="hljs-attribute">border-radius</span>: <span class="hljs-number">100%</span>;<br><br>  <span class="hljs-attribute">animation</span>: circle infinite <span class="hljs-number">0.75s</span> linear;<br>&#125;<br><span class="hljs-keyword">@keyframes</span> circle &#123;<br>  <span class="hljs-number">0%</span> &#123;<br>    <span class="hljs-attribute">transform</span>: <span class="hljs-built_in">rotate</span>(<span class="hljs-number">0</span>);<br>  &#125;<br>  <span class="hljs-number">100%</span> &#123;<br>    <span class="hljs-attribute">transform</span>: <span class="hljs-built_in">rotate</span>(<span class="hljs-number">360deg</span>);<br>  &#125;<br>&#125;<br></code></pre></td></tr></table></figure></li><li><p>添加js文件调用之前导出的接口进行初始化：</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-comment">// load.js</span><br><span class="hljs-keyword">var</span> resourcesPath = <span class="hljs-string">&#x27;xxx&#x27;</span>; <span class="hljs-comment">// 指定资源文件（模型）保存的路径</span><br><span class="hljs-keyword">var</span> modelDir = [<span class="hljs-string">&#x27;pony&#x27;</span>]; <span class="hljs-comment">// 指定需要加载的模型</span><br><span class="hljs-variable language_">window</span>.<span class="hljs-title function_">initPath</span>(resourcesPath, modelDir); <span class="hljs-comment">// 初始化模型</span><br></code></pre></td></tr></table></figure></li><li><p>我使用的leedom主题过于简洁居然不支持css和js代码插入，这就给它加上相应的功能：</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs ejs">&lt;!-- layout/_partial/header.ejs --&gt;<br>&lt;% if (theme.inject.css.enable)&#123; %&gt;<br>  &lt;%- css(theme.inject.css.path) %&gt;<br>&lt;% &#125; %&gt;<br>&lt;% if (theme.inject.js.enable)&#123; %&gt;<br>  &lt;%- js(theme.inject.js.path) %&gt;<br>&lt;% &#125; %&gt;<br></code></pre></td></tr></table></figure><p>然后在主题的<code>_config.xxx.yml</code>配置文件下加入：</p><figure class="highlight yml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><code class="hljs yml"><span class="hljs-comment"># 注入自定义代码</span><br><span class="hljs-attr">inject:</span><br>  <span class="hljs-attr">css:</span><br>    <span class="hljs-attr">enable:</span> <span class="hljs-literal">true</span><br>    <span class="hljs-attr">path:</span><br>    <span class="hljs-bullet">-</span> <span class="hljs-string">/css/live2d.css</span><br>    <span class="hljs-bullet">-</span> <span class="hljs-string">/css/loading.css</span><br>  <span class="hljs-attr">js:</span><br>    <span class="hljs-attr">enable:</span> <span class="hljs-literal">true</span><br>    <span class="hljs-attr">path:</span><br>    <span class="hljs-bullet">-</span> <span class="hljs-string">https://cdn路径/script/live2dcubismcore.js</span><br>    <span class="hljs-bullet">-</span> <span class="hljs-string">https://cdn路径/script/bundle.js</span><br>    <span class="hljs-bullet">-</span> <span class="hljs-string">/js/load.js</span><br></code></pre></td></tr></table></figure></li></ol><h3 id="加载优化">加载优化</h3><p>之前把模型部署在网页项目的同一位置，但后来发现网页加载速度太慢了。通过性能调试器可以发现性能瓶颈在于模型文件的下载。文件大小是没法优化了，那就只能优化下载速度，因此通过gihub release部署到了cdn上，这样就把加载时间从一分钟缩短到十秒钟。为此还需要解决跨源访问的问题，具体参见上文。此外，既然live2d模型能放到cdn上，那干脆把大文件<code>bundle.js</code>和<code>live2dcubismcore.js</code>也放上去算了：</p><p><img src="https://img2.imgtp.com/2024/01/22/is7oG3Jm.png" alt="优化后moc文件的加载时间"></p><h2 id="🍂效果">🍂效果</h2><p>当当当当~经过一番努力，我们终于在个人主页上部署了新的live2d小马！</p><p>交互方式：</p><ul><li>鼠标点击/触屏点击可触发表情切换；</li><li>光标在canvas范围移动或者触屏在canvas范围滑动可触发视线追踪；</li><li>闲置时动态物理效果；</li></ul><p><img src="https://img2.imgtp.com/2024/01/22/u3QXa8me.png" alt="image-20240122123010170"></p>]]></content>
    
    
    <categories>
      
      <category>存档-record</category>
      
    </categories>
    
    
    <tags>
      
      <tag>web开发</tag>
      
      <tag>教程</tag>
      
      <tag>技术</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>新的开始</title>
    <link href="/space/2024/01/22/%E6%96%B0%E7%9A%84%E5%BC%80%E5%A7%8B/"/>
    <url>/space/2024/01/22/%E6%96%B0%E7%9A%84%E5%BC%80%E5%A7%8B/</url>
    
    <content type="html"><![CDATA[<p>网站重整开业！</p><span id="more"></span><p>由于之前基于gitee的图床挂掉了，本站长时间处于无人维护的状态，考虑到后续还会有相应的需求，期末季一结束我就开始着手恢复这个站点。经过一些比较繁琐的手动迁移，我终于恢复了大部分文章的头图。至于之前有些文章里面挂掉的图片链接，恢复起来实在太繁琐所以还是作罢了，希望这次的图床能稳定一点吧~</p>]]></content>
    
    
    <categories>
      
      <category>站点-site</category>
      
    </categories>
    
    
    <tags>
      
      <tag>公告</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>建站过程8-图片重加载</title>
    <link href="/space/2022/07/01/%E5%BB%BA%E7%AB%99%E8%BF%87%E7%A8%8B8-%E5%9B%BE%E7%89%87%E9%87%8D%E5%8A%A0%E8%BD%BD/"/>
    <url>/space/2022/07/01/%E5%BB%BA%E7%AB%99%E8%BF%87%E7%A8%8B8-%E5%9B%BE%E7%89%87%E9%87%8D%E5%8A%A0%E8%BD%BD/</url>
    
    <content type="html"><![CDATA[<p>由于有些页面图片太多，图片服务器报错429，导致相应页面的某些图片只能显示难看的碎裂图标，本文将给出一个可能的解决方案。</p><span id="more"></span><h2 id="问题"><a href="#问题" class="headerlink" title="问题"></a>问题</h2><p>在配置完了图床，搭建好了博客之后，有一天我突然发现，主页上文章前面的缩略图没法全部加载出来！一看console发现原来是报了429的错误，简单地说就是请求数量太多了，以至于服务器都不接受了。这样一来主页上就老是有一些难看的碎裂图标，这让有强迫症的我十分难受，于是我打算好好解决一下这个问题。</p><p><img src="https://img2.imgtp.com/2024/01/21/fJVxtKci.png" alt="429-加载失败"></p><p>最开始的想法是，会不会图片太大了，拖慢了加载进度？之前已经用<a href="https://tinypng.com/">tinypng</a>压过图了，最大的图片也只有1MB出头，我实在不知道该怎么进一步压缩。后来经过多方查找，我终于找到了一个比较良心的压缩图片网站<a href="https://oktools.net/tinyimg">OKTools</a>，然后进一步压缩到每张图片0.5MB，费了老大劲，但是仍然没能解决429错误。后来还是突发奇想，可以在加载失败后等一段时间再重新加载，这样就不会因为同时请求太多导致服务器不接受了。</p><h2 id="解决方案"><a href="#解决方案" class="headerlink" title="解决方案"></a>解决方案</h2><p>废话少说直接上代码：</p><h3 id="主要代码部分"><a href="#主要代码部分" class="headerlink" title="主要代码部分"></a>主要代码部分</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-keyword">const</span> imglist = <span class="hljs-variable language_">document</span>.<span class="hljs-title function_">querySelectorAll</span>(<span class="hljs-string">&quot;img&quot;</span>);<br><span class="hljs-title function_">reload_exclude</span>();<br><span class="hljs-keyword">for</span>(<span class="hljs-keyword">var</span> ind=<span class="hljs-number">0</span>;ind&lt;imglist.<span class="hljs-property">length</span>;ind++)&#123;<br>    <span class="hljs-keyword">let</span> img = imglist[ind];<br>    <span class="hljs-comment">//注意js中==会尝试将字符串转化为数字再进行比较</span><br>    <span class="hljs-keyword">if</span>(img.<span class="hljs-title function_">getAttribute</span>(<span class="hljs-string">&quot;reload-exclude&quot;</span>)==<span class="hljs-number">1</span>)&#123;<span class="hljs-keyword">continue</span>;&#125;<br>    img.<span class="hljs-title function_">setAttribute</span>(<span class="hljs-string">&quot;retry&quot;</span>,<span class="hljs-number">0</span>);<br>    img.<span class="hljs-property">onerror</span>=<span class="hljs-function">(<span class="hljs-params">e</span>)=&gt;</span>&#123;<span class="hljs-title function_">reloadimg</span>(img);&#125;;<br>&#125;<br></code></pre></td></tr></table></figure><p>这一部分的功能主要是：</p><ol><li>选择所有<code>&lt;img&gt;</code>标签；</li><li>对于某些图片，标记<code>exclude</code>，表示不执行重加载；</li><li>对所有没有标记的图片，设置初始尝试次数<code>retry=0</code>，并绑定加载失败回调函数；</li></ol><h3 id="回调函数"><a href="#回调函数" class="headerlink" title="回调函数"></a>回调函数</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-keyword">function</span> <span class="hljs-title function_">reloadimg</span>(<span class="hljs-params">img</span>) &#123;<br>  <span class="hljs-keyword">let</span> retry = <span class="hljs-built_in">parseInt</span>(img.<span class="hljs-title function_">getAttribute</span>(<span class="hljs-string">&quot;retry&quot;</span>));<br>  <span class="hljs-comment">// 开启一个定时器,这里每1500ms执行一次</span><br>  <span class="hljs-keyword">let</span> timer = <span class="hljs-built_in">setTimeout</span>(<span class="hljs-function">() =&gt;</span> &#123;<br>    <span class="hljs-keyword">if</span> (retry &gt; <span class="hljs-number">2</span>) &#123; <span class="hljs-comment">// 如果重试次数大于2</span><br>      <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">&quot;连接失败&quot;</span>);<br>      img.<span class="hljs-property">src</span> = <span class="hljs-comment">// 图片使用占位图片url</span><br>        <span class="hljs-string">&quot;https://www.wetools.com/imgplaceholder/800x400?text=图片太帅，无法显示&quot;</span>; <br>      img.<span class="hljs-property">onerror</span> = <span class="hljs-literal">null</span>;<span class="hljs-comment">//防止占位图片也失效，从而无限循环        </span><br>      <span class="hljs-built_in">clearTimeout</span>(timer);<span class="hljs-comment">// 清除定时器</span><br>    &#125; <span class="hljs-keyword">else</span> &#123;<br>      <span class="hljs-comment">// 重试次数在规定内</span><br>      <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">&quot;重试次数&quot;</span>, retry+<span class="hljs-number">1</span>);<br>      <span class="hljs-comment">// 计数器+1</span><br>      retry += <span class="hljs-number">1</span>;<br>      img.<span class="hljs-title function_">setAttribute</span>(<span class="hljs-string">&quot;retry&quot;</span>, retry);<br>      img.<span class="hljs-title function_">setAttribute</span>(<span class="hljs-string">&quot;src&quot;</span>,img.<span class="hljs-property">src</span>); <span class="hljs-comment">//重新加载</span><br>    &#125;<br>  &#125;, <span class="hljs-number">1500</span>);<br>&#125;<br></code></pre></td></tr></table></figure><p>主要思路：</p><ol><li>取出<code>retry</code>变量的值，然后判断尝试次数是否已经超过2</li><li>如果超过，使用占位图片；注意此时最好把回调函数给清除，防止占位图片也失效导致回调函数一直调用</li><li>否则每隔1.5s重新加载图片一次</li></ol><h3 id="排除"><a href="#排除" class="headerlink" title="排除"></a>排除</h3><p>在友链页面，已经设置了头像图片加载失败时的默认图片，没必要再采用重新加载的方法，因此标记<code>reload-exclude</code></p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-comment">//添加一些排除标记</span><br><span class="hljs-keyword">function</span> <span class="hljs-title function_">reload_exclude</span>(<span class="hljs-params"></span>)&#123;<br>  <span class="hljs-keyword">let</span> excld = <span class="hljs-variable language_">document</span>.<span class="hljs-title function_">querySelectorAll</span>(<span class="hljs-string">&quot;.link-avatar img&quot;</span>);<br>  <span class="hljs-keyword">for</span>(<span class="hljs-keyword">var</span> i = <span class="hljs-number">0</span>;i&lt;excld.<span class="hljs-property">length</span>;++i)&#123;<br>    excld[i].<span class="hljs-title function_">setAttribute</span>(<span class="hljs-string">&quot;reload-exclude&quot;</span>,<span class="hljs-number">1</span>);<br>  &#125;<br>&#125;<br></code></pre></td></tr></table></figure><p>（6.26更新）</p><p>发现这样由于重加载图片都是在1.5s之后，很容易再次引发扎堆访问，因此重试时间增加随机性会是一种更好的选择。</p><p>此处我们复用了<code>say.js</code>中的随机数生成函数，将上面的1500改成<code>500*randomNum(2,5)</code>，也即随机等待1~2.5s，这样不同图片的重加载时间就可以错开了</p>]]></content>
    
    
    <categories>
      
      <category>存档-record</category>
      
    </categories>
    
    
    <tags>
      
      <tag>web开发</tag>
      
      <tag>教程</tag>
      
      <tag>技术</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>建站过程7-对话气泡框</title>
    <link href="/space/2022/07/01/%E5%BB%BA%E7%AB%99%E8%BF%87%E7%A8%8B7-%E6%B0%94%E6%B3%A1%E5%AF%B9%E8%AF%9D%E6%A1%86/"/>
    <url>/space/2022/07/01/%E5%BB%BA%E7%AB%99%E8%BF%87%E7%A8%8B7-%E6%B0%94%E6%B3%A1%E5%AF%B9%E8%AF%9D%E6%A1%86/</url>
    
    <content type="html"><![CDATA[<p>之前个人主页右下角的垂云都可以鼠标点击交互的，这次也想要实现这个功能，而且还要更丰富一些，功能包括：点击出现气泡框，鼠标悬停阻止自动消失，随机文字。</p><span id="more"></span><h2 id="气泡框绘制"><a href="#气泡框绘制" class="headerlink" title="气泡框绘制"></a>气泡框绘制</h2><p>因为不想直接动源代码，所以这里用的是hexo-fluid的代码注入功能，因此css只能写成行内的style属性，看起来有些丑qwq</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><code class="hljs html"><span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;textbox&quot;</span> <span class="hljs-attr">style</span>=<span class="hljs-string">&quot;</span></span><br><span class="hljs-string"><span class="hljs-tag">      width:150px;</span></span><br><span class="hljs-string"><span class="hljs-tag">      height:50px;</span></span><br><span class="hljs-string"><span class="hljs-tag">      border:2px solid #FF88C2;</span></span><br><span class="hljs-string"><span class="hljs-tag">      border-radius: 4px;</span></span><br><span class="hljs-string"><span class="hljs-tag">      box-shadow: 2px 2px 2px pink;</span></span><br><span class="hljs-string"><span class="hljs-tag">      position:fixed;</span></span><br><span class="hljs-string"><span class="hljs-tag">      left:20px;</span></span><br><span class="hljs-string"><span class="hljs-tag">      bottom:180px;</span></span><br><span class="hljs-string"><span class="hljs-tag">      background-color:white;</span></span><br><span class="hljs-string"><span class="hljs-tag">      padding-top: 0.2em;</span></span><br><span class="hljs-string"><span class="hljs-tag">      padding-bottom: 0.2em;</span></span><br><span class="hljs-string"><span class="hljs-tag">      opacity: 0;</span></span><br><span class="hljs-string"><span class="hljs-tag">      z-index: 10;</span></span><br><span class="hljs-string"><span class="hljs-tag">      transition:0.5s all ease-in-out;</span></span><br><span class="hljs-string"><span class="hljs-tag">      &quot;</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;saytext&quot;</span> <span class="hljs-attr">style</span>=<span class="hljs-string">&quot;</span></span><br><span class="hljs-string"><span class="hljs-tag">        height:100%;</span></span><br><span class="hljs-string"><span class="hljs-tag">        font-size: 0.7em;</span></span><br><span class="hljs-string"><span class="hljs-tag">        text-align: center;</span></span><br><span class="hljs-string"><span class="hljs-tag">        display: flex;</span></span><br><span class="hljs-string"><span class="hljs-tag">        align-items: center;</span></span><br><span class="hljs-string"><span class="hljs-tag">        justify-content: center;&quot;</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">span</span>&gt;</span>你好，我是萍琪派！<span class="hljs-tag">&lt;/<span class="hljs-name">span</span>&gt;</span><br>    <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">style</span>=<span class="hljs-string">&quot;</span></span><br><span class="hljs-string"><span class="hljs-tag">        width:0;</span></span><br><span class="hljs-string"><span class="hljs-tag">        height:0;</span></span><br><span class="hljs-string"><span class="hljs-tag">        border-top:10px solid #FF88C2;</span></span><br><span class="hljs-string"><span class="hljs-tag">        border-left:10px dashed transparent;</span></span><br><span class="hljs-string"><span class="hljs-tag">        border-right:10px dashed transparent;</span></span><br><span class="hljs-string"><span class="hljs-tag">        position:relative;</span></span><br><span class="hljs-string"><span class="hljs-tag">        left:60px;</span></span><br><span class="hljs-string"><span class="hljs-tag">        bottom:-0.2em;&quot;</span>&gt;</span><br>    <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span><br></code></pre></td></tr></table></figure><p>简单解释：</p><ul><li>一个总的气泡盒子，固定在合适的位置，并且加上了一些颜色，设置了文字居中之类的；注意<code>opacity</code>属性用来控制是否显示，之所以不用<code>visibility</code>是因为这样没法通过<code>transition</code>实现淡入淡出的功能；</li><li>然后下面绘制一个小小的倒三角；</li><li>中间的<code>&lt;div&gt;</code>用来装文字；</li></ul><h2 id="动态交互功能"><a href="#动态交互功能" class="headerlink" title="动态交互功能"></a>动态交互功能</h2><p>首先是一些全局变量：</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-comment">/*#################*/</span><br><span class="hljs-comment">/* constant value  */</span><br><span class="hljs-comment">/*#################*/</span><br><span class="hljs-keyword">const</span> cvs = <span class="hljs-variable language_">document</span>.<span class="hljs-title function_">querySelector</span>(<span class="hljs-string">&quot;#live2d&quot;</span>);<br><span class="hljs-keyword">const</span> box = <span class="hljs-variable language_">document</span>.<span class="hljs-title function_">querySelector</span>(<span class="hljs-string">&quot;#textbox&quot;</span>);<br><span class="hljs-keyword">const</span> text = <span class="hljs-variable language_">document</span>.<span class="hljs-title function_">querySelector</span>(<span class="hljs-string">&quot;#saytext span&quot;</span>);<br><span class="hljs-keyword">const</span> textbar = <span class="hljs-variable language_">document</span>.<span class="hljs-title function_">querySelector</span>(<span class="hljs-string">&quot;#saytext&quot;</span>);<br><span class="hljs-keyword">const</span> url = <span class="hljs-string">&quot;/blog/js/saying.json&quot;</span>;<br><span class="hljs-keyword">let</span> articles = <span class="hljs-literal">null</span>;<br><span class="hljs-keyword">let</span> timer = <span class="hljs-literal">null</span>;<span class="hljs-comment">//用于取消延迟任务的ID值</span><br><span class="hljs-keyword">let</span> hover = <span class="hljs-literal">false</span>;<br></code></pre></td></tr></table></figure><p>一些utility function：</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-comment">/** 随机选取数组中的元素 */</span><br><span class="hljs-keyword">function</span> <span class="hljs-title function_">randomChoose</span>(<span class="hljs-params">array</span>) &#123;<br>    <span class="hljs-keyword">let</span> len = array.<span class="hljs-property">length</span>;<br>    <span class="hljs-keyword">return</span> array[<span class="hljs-title function_">randomNum</span>(len-<span class="hljs-number">1</span>)];<br>&#125;<br><span class="hljs-comment">/** 生成从minNum到maxNum的随机数</span><br><span class="hljs-comment"> * 只输入第一个参数，表示[0,minNum]之间的随机数</span><br><span class="hljs-comment"> * 输入两个参数，表示[minNum,maxNum]之间的随机数</span><br><span class="hljs-comment"> * <span class="hljs-doctag">@param</span> <span class="hljs-variable">minNum</span></span><br><span class="hljs-comment"> * <span class="hljs-doctag">@param</span> <span class="hljs-variable">maxNum</span></span><br><span class="hljs-comment"> */</span><br><span class="hljs-keyword">function</span> <span class="hljs-title function_">randomNum</span>(<span class="hljs-params">minNum,maxNum</span>)&#123; <br>    <span class="hljs-keyword">switch</span>(<span class="hljs-variable language_">arguments</span>.<span class="hljs-property">length</span>)&#123; <br>        <span class="hljs-keyword">case</span> <span class="hljs-number">1</span>: <br>            <span class="hljs-keyword">return</span> <span class="hljs-title class_">Math</span>.<span class="hljs-title function_">floor</span>(<span class="hljs-title class_">Math</span>.<span class="hljs-title function_">random</span>()*(minNum+<span class="hljs-number">1</span>)); <br>        <span class="hljs-keyword">break</span>; <br>        <span class="hljs-keyword">case</span> <span class="hljs-number">2</span>: <br>            <span class="hljs-keyword">return</span> <span class="hljs-title class_">Math</span>.<span class="hljs-title function_">floor</span>(<span class="hljs-title class_">Math</span>.<span class="hljs-title function_">random</span>()*(maxNum-minNum+<span class="hljs-number">1</span>)+minNum); <br>        <span class="hljs-keyword">break</span>; <br>            <span class="hljs-attr">default</span>: <br>                <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>; <br>            <span class="hljs-keyword">break</span>; <br>    &#125; <br>&#125;<br><span class="hljs-keyword">function</span> <span class="hljs-title function_">randomBoolean</span>(<span class="hljs-params"></span>)&#123;<br>    <span class="hljs-keyword">return</span> <span class="hljs-title class_">Math</span>.<span class="hljs-title function_">random</span>()&gt;<span class="hljs-number">0.5</span>;<br>&#125;<br></code></pre></td></tr></table></figure><h3 id="点击出现对话框以及鼠标悬停阻止消失"><a href="#点击出现对话框以及鼠标悬停阻止消失" class="headerlink" title="点击出现对话框以及鼠标悬停阻止消失"></a>点击出现对话框以及鼠标悬停阻止消失</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-keyword">function</span> <span class="hljs-title function_">handler_say</span>(<span class="hljs-params">event</span>) &#123;<br>    <span class="hljs-built_in">clearTimeout</span>(timer);<br>    <span class="hljs-title function_">change_content</span>(<span class="hljs-title function_">randomNum</span>(<span class="hljs-number">0</span>,<span class="hljs-number">1</span>));<br>    box.<span class="hljs-property">style</span>.<span class="hljs-property">opacity</span>=<span class="hljs-number">0.9</span>;<br>    timer = <span class="hljs-built_in">setTimeout</span>(<span class="hljs-function">()=&gt;</span>&#123;<br>        <span class="hljs-keyword">if</span>(!hover)&#123;<br>            box.<span class="hljs-property">style</span>.<span class="hljs-property">opacity</span>=<span class="hljs-number">0</span>;<br>        &#125;<br>    &#125;,<span class="hljs-number">2000</span>);<br>&#125;<br><span class="hljs-keyword">function</span> <span class="hljs-title function_">handler_mouseenter</span>(<span class="hljs-params">event</span>)&#123;<br>    hover = <span class="hljs-literal">true</span>;<br>&#125;<br><span class="hljs-keyword">function</span> <span class="hljs-title function_">handler_mouseleave</span>(<span class="hljs-params">event</span>)&#123;<br>    hover = <span class="hljs-literal">false</span>;<br>    box.<span class="hljs-property">style</span>.<span class="hljs-property">opacity</span>=<span class="hljs-number">0</span>;<br>&#125;<br></code></pre></td></tr></table></figure><p>简单解释：</p><ul><li>第一个函数是click事件的回调函数，和之前垂云那版的实现方式一样，先清除之前未执行的任务，然后改变气泡框文字内容，设置气泡框为可见，最后延迟2000ms之后重新让气泡框不可见；</li><li>第二个是鼠标悬浮于气泡框时的回调函数，简单设置变量<code>hover=true</code>，这样一来之前的延迟任务就不会执行；</li><li>第三个是鼠标移出气泡框的回调函数，设置<code>hover=false</code>，并且让气泡框不可见；</li></ul><h3 id="随机生成对话内容"><a href="#随机生成对话内容" class="headerlink" title="随机生成对话内容"></a>随机生成对话内容</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-keyword">function</span> <span class="hljs-title function_">change_content</span>(<span class="hljs-params">group</span>) &#123;<br>    <span class="hljs-keyword">if</span>(articles==<span class="hljs-literal">null</span>)&#123;<span class="hljs-keyword">return</span>;&#125;<br>    <span class="hljs-keyword">while</span>(text.<span class="hljs-property">lastElementChild</span>!=<span class="hljs-literal">null</span>)&#123;<br>        text.<span class="hljs-title function_">removeChild</span>(text.<span class="hljs-property">lastElementChild</span>);<br>    &#125;<br>    <span class="hljs-comment">//更新span元素内容</span><br>    <span class="hljs-keyword">let</span> anchor = <span class="hljs-variable language_">document</span>.<span class="hljs-title function_">createElement</span>(<span class="hljs-string">&quot;a&quot;</span>);<br>    text.<span class="hljs-property">textContent</span> = <span class="hljs-title function_">randomChoose</span>(articles[group].<span class="hljs-property">text</span>);<br>    <span class="hljs-keyword">if</span>(group==<span class="hljs-number">0</span>)&#123; <span class="hljs-comment">//选择一篇文章并且生成推荐文字</span><br>        <span class="hljs-keyword">let</span> item = <span class="hljs-title function_">randomChoose</span>(articles[group].<span class="hljs-property">list</span>);<br>        anchor.<span class="hljs-title function_">setAttribute</span>(<span class="hljs-string">&quot;href&quot;</span>,item.<span class="hljs-property">link</span>);<br>        anchor.<span class="hljs-property">style</span>.<span class="hljs-property">color</span> = <span class="hljs-string">&quot;#FF88C2&quot;</span>;<br>        anchor.<span class="hljs-property">textContent</span> = item.<span class="hljs-property">title</span>;<br>        text.<span class="hljs-title function_">appendChild</span>(anchor);<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure><p>主要想法是，对话分为有超链接和没有超链接的两组(<code>group</code>)，所有可能的对话内容都储存在<code>saying.json</code>文件中，然后每次随机从其中某组中选择一句话，构造对应的元素，然后插入相应位置；</p><h3 id="读取json文件"><a href="#读取json文件" class="headerlink" title="读取json文件"></a>读取json文件</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-keyword">function</span> <span class="hljs-title function_">say_init</span>(<span class="hljs-params"></span>)&#123;<br>    cvs.<span class="hljs-property">style</span>.<span class="hljs-property">cursor</span> = <span class="hljs-string">&#x27;grab&#x27;</span>;<br>    cvs.<span class="hljs-title function_">addEventListener</span>(<span class="hljs-string">&quot;click&quot;</span>,handler_say);<br>    textbar.<span class="hljs-title function_">addEventListener</span>(<span class="hljs-string">&quot;mouseenter&quot;</span>,handler_mouseenter);<br>    textbar.<span class="hljs-title function_">addEventListener</span>(<span class="hljs-string">&quot;mouseleave&quot;</span>,handler_mouseleave);<br>    <span class="hljs-comment">// 载入json</span><br>    <span class="hljs-keyword">var</span> request = <span class="hljs-keyword">new</span> <span class="hljs-title class_">XMLHttpRequest</span>();<br>    <span class="hljs-comment">// 设置请求方法与路径</span><br>    request.<span class="hljs-title function_">open</span>(<span class="hljs-string">&quot;get&quot;</span>, url);<br>    <span class="hljs-comment">// 不发送数据到服务器</span><br>    request.<span class="hljs-title function_">send</span>(<span class="hljs-literal">null</span>);<br>    <span class="hljs-comment">//XHR对象获取到返回信息后执行</span><br>    request.<span class="hljs-property">onload</span> = <span class="hljs-keyword">function</span>(<span class="hljs-params"></span>)&#123;<br>        <span class="hljs-comment">// 返回状态为200，即为数据获取成功</span><br>        <span class="hljs-keyword">if</span>(request.<span class="hljs-property">status</span> == <span class="hljs-number">200</span>)&#123;<br>            articles = <span class="hljs-title class_">JSON</span>.<span class="hljs-title function_">parse</span>(request.<span class="hljs-property">responseText</span>);<br>        &#125;<br>        <span class="hljs-keyword">else</span>&#123;<br>            <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">&quot;error:&quot;</span>+request.<span class="hljs-property">status</span>+<span class="hljs-variable language_">this</span>.<span class="hljs-property">responseText</span>);<br>        &#125;<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure><p>这是此部分功能的主例程，绑定之前所说的回调函数，以及读取json文件</p><p><code>saying.json</code>样例：</p><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><code class="hljs json"><span class="hljs-punctuation">[</span><br>    <span class="hljs-punctuation">&#123;</span><br>        <span class="hljs-attr">&quot;text&quot;</span><span class="hljs-punctuation">:</span><span class="hljs-punctuation">[</span><br>            <span class="hljs-string">&quot;叮~~ 随机掉落文章推荐：&quot;</span><span class="hljs-punctuation">,</span><br>            <span class="hljs-string">&quot;想看看这篇文章吗：&quot;</span><br>        <span class="hljs-punctuation">]</span><span class="hljs-punctuation">,</span><br>        <br>        <span class="hljs-attr">&quot;list&quot;</span><span class="hljs-punctuation">:</span><span class="hljs-punctuation">[</span><br>            <span class="hljs-punctuation">&#123;</span><br>                <span class="hljs-attr">&quot;title&quot;</span><span class="hljs-punctuation">:</span><span class="hljs-string">&quot;示例1&quot;</span><span class="hljs-punctuation">,</span><br>                <span class="hljs-attr">&quot;link&quot;</span><span class="hljs-punctuation">:</span><span class="hljs-string">&quot;/blog/示例1&quot;</span><br>            <span class="hljs-punctuation">&#125;</span><span class="hljs-punctuation">,</span><br>            <span class="hljs-punctuation">&#123;</span><br>                <span class="hljs-attr">&quot;title&quot;</span><span class="hljs-punctuation">:</span><span class="hljs-string">&quot;示例2&quot;</span><span class="hljs-punctuation">,</span><br>                <span class="hljs-attr">&quot;link&quot;</span><span class="hljs-punctuation">:</span><span class="hljs-string">&quot;https://xxx.xxx.com&quot;</span><br>            <span class="hljs-punctuation">&#125;</span><br>        <span class="hljs-punctuation">]</span><br>    <span class="hljs-punctuation">&#125;</span><span class="hljs-punctuation">,</span><br>    <span class="hljs-punctuation">&#123;</span><br>        <span class="hljs-attr">&quot;text&quot;</span><span class="hljs-punctuation">:</span><span class="hljs-punctuation">[</span><br>            <span class="hljs-string">&quot;点击我可以给你推荐随机文章哦&quot;</span><span class="hljs-punctuation">,</span><br>            <span class="hljs-string">&quot;如果喜欢这个站点，欢迎与朋友分享，快乐也会加倍哦&quot;</span><span class="hljs-punctuation">,</span><br>            <span class="hljs-string">&quot;小技巧：示例3&quot;</span><br>        <span class="hljs-punctuation">]</span><br>    <span class="hljs-punctuation">&#125;</span><br><span class="hljs-punctuation">]</span><br></code></pre></td></tr></table></figure><h2 id="效果图"><a href="#效果图" class="headerlink" title="效果图"></a>效果图</h2><p>成功了~ 来看看我们的成果吧：</p><p><img src="https://hovering-clouds.coding.net/p/pic-host/d/blog-comment/git/raw/main/img/2022/06/25/17-58-41.620-image-20220625175833146.png" alt="示意图"></p>]]></content>
    
    
    <categories>
      
      <category>存档-record</category>
      
    </categories>
    
    
    <tags>
      
      <tag>web开发</tag>
      
      <tag>教程</tag>
      
      <tag>技术</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>建站过程6-左下角小马</title>
    <link href="/space/2022/07/01/%E5%BB%BA%E7%AB%99%E8%BF%87%E7%A8%8B6-%E5%B7%A6%E4%B8%8B%E8%A7%92%E5%B0%8F%E9%A9%AC/"/>
    <url>/space/2022/07/01/%E5%BB%BA%E7%AB%99%E8%BF%87%E7%A8%8B6-%E5%B7%A6%E4%B8%8B%E8%A7%92%E5%B0%8F%E9%A9%AC/</url>
    
    <content type="html"><![CDATA[<p>本文将介绍页面左下角动态小马形象的实现方法</p><span id="more"></span><h2 id="live2d技术简介"><a href="#live2d技术简介" class="headerlink" title="live2d技术简介"></a>live2d技术简介</h2><p>Live2D是一种应用于电子游戏的绘图渲染技术，该技术由日本Cybernoids公司（现已更名为Live2D）开发。通过一系列的连续图像和人物建模来生成一种类似三维模型的二维图像，对于以动画风格为主的游戏来说非常有用。</p><p>简单来说，画师只需要绘制一张原画，然后将身体、五官、发型、服装等2D图片放到全3D的模型模板上。这样的成品将保留2D手绘的精细，同时在小范围旋转视角上也能做到毫无违和感。这一技术目前的缺点在于无法实现复杂图形、人物的大幅旋转，开发商正在设法解决这一问题。</p><p>*以上介绍摘自：<a href="https://zhuanlan.zhihu.com/p/350053207">live 2D技术：让2D角色动起来的障眼法 - 知乎 (zhihu.com)</a></p><p>按我的理解，就是不需要3D建模，只需要一张图片素材，然后给各个身体部位加上一些平移、变形等变换，就可以模拟出栩栩如生的动态效果，事实上很多同学喜欢的二次元风格游戏，以及B站随处可见的vtuber，它们用的都是这一技术。</p><p>有兴趣创造自己的live2d形象的读者可以去看看<a href="https://www.live2d.com/zh-CHS/">Live2D Cubism</a> 这款软件，有免费版本可以使用，以及付费的Pro版，官网上也有很多教程和文档，但是很多都是日语的。（我玩了一晚上，感觉还是好复杂……）</p><p><img src="https://www.live2d.com/wp/wp-content/themes/cubism_wpml/img/about-img_07.jpg" alt="来自live2d.com"></p><h2 id="模型获得"><a href="#模型获得" class="headerlink" title="模型获得"></a>模型获得</h2><p>网上各种live2d模型挺丰富的，不过用在博客上的似乎多是官方给的样例，毕竟自己整模型以及重新搞好相关代码，还是非常麻烦的。在官方样例中，我比较喜欢那只装在碗里的小狗，还有那两只猫看起来也还好。不过其实我还是更想要把自己oc放在主页上……</p><p>反正不管怎么说，最后还是在B站up主 @<a href="https://space.bilibili.com/175950763">来养一只狗头猫吧</a> 这里找来了一只看起来很可爱的Pinkie，所以我就这样用啦，非常感谢他愿意给我使用！</p><h2 id="配置"><a href="#配置" class="headerlink" title="配置"></a>配置</h2><p>好了，让我们进入正题吧，现在我们有了合适的模型，该如何部署到自己的站点呢？为了这一块，我可是费了老大的劲。首先在github上找了几十个仓库，结果试来试去没一个成功的。后来去看别人博客，也都是众说纷纭，让我眼花缭乱。长话短说，在经历了漫长的搜索与试错，我终于在某篇文章里找到了一个教程。果然，对于我这种懒惰的人来说，授之以🎣不如授之以🐟[doge]，这篇文章直接就说，给你这两个文件，你这样这样，再那样那样，然后就好了。照着做了一遍，稍稍修改了些，总算成功了~</p><h3 id="step1"><a href="#step1" class="headerlink" title="step1"></a>step1</h3><p>将live2d模型文件放在远程服务器上</p><p>注意事项：</p><ul><li>不能放在本地，因为浏览器有烦人的跨域访问限制</li><li>不能放在github仓库，因为未知的原因，github的raw-content链接在脚本里没法直接加载</li></ul><p>正确方法：放在自己的服务器上，或者用github release后，使用链接“<a href="https://cdn.jsdelivr.net/gh/%E7%94%A8%E6%88%B7/%E5%BA%93@%E7%89%88%E6%9C%AC%E5%8F%B7/%E8%B5%84%E6%BA%90%E8%B7%AF%E5%BE%84%E2%80%9D%E8%AE%BF%E9%97%AE%E4%BD%A0%E5%B7%B2%E7%BB%8F%E5%8F%91%E5%B8%83%E7%9A%84%E6%96%87%E4%BB%B6">https://cdn.jsdelivr.net/gh/用户/库@版本号/资源路径”访问你已经发布的文件</a></p><h3 id="step2"><a href="#step2" class="headerlink" title="step2"></a>step2</h3><p>获得用来解析live2d模型的js脚本：</p><p><a href="https://raw.githubusercontent.com/hovering-clouds/blog/gh-pages/js/live2dcubismcore.js">live2dcubismcore.js</a></p><p><a href="https://raw.githubusercontent.com/hovering-clouds/blog/gh-pages/js/bundle.js">bundle.js</a></p><h3 id="step3"><a href="#step3" class="headerlink" title="step3"></a>step3</h3><p>在你的博客页面上插入如下代码：</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><code class="hljs html"><span class="hljs-tag">&lt;<span class="hljs-name">canvas</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;live2d&quot;</span> <span class="hljs-attr">width</span>=<span class="hljs-string">&quot;300&quot;</span> <span class="hljs-attr">height</span>=<span class="hljs-string">&quot;300&quot;</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;live2d&quot;</span></span><br><span class="hljs-tag"><span class="hljs-attr">style</span>=<span class="hljs-string">&quot;position: fixed; opacity: 0.8; left: -80px; bottom: -70px; z-index: 99999; pointer-events: none;&quot;</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">canvas</span>&gt;</span><br><br><span class="hljs-tag">&lt;<span class="hljs-name">script</span> <span class="hljs-attr">type</span>=<span class="hljs-string">&quot;text/javascript&quot;</span>&gt;</span><span class="language-javascript"></span><br><span class="language-javascript"><span class="hljs-keyword">var</span> resourcesPath = <span class="hljs-string">&#x27;https://cdn.jsdelivr.net/gh/用户/库@版本号/资源路径&#x27;</span>; <span class="hljs-comment">// 指定资源文件（模型）保存的路径，使用github的release版本，路径如下https://cdn.jsdelivr.net/gh/用户/库@版本号/资源路径</span></span><br><span class="language-javascript"><span class="hljs-keyword">var</span> backImageName = <span class="hljs-string">&#x27;&#x27;</span>; <span class="hljs-comment">// 指定背景图片 ,默认为空</span></span><br><span class="language-javascript"><span class="hljs-keyword">var</span> modelDir = [<span class="hljs-string">&#x27;&#x27;</span>]; <span class="hljs-comment">// 指定需要加载的模型，</span></span><br><span class="language-javascript"><span class="hljs-title function_">initDefine</span>(resourcesPath, backImageName, modelDir); <span class="hljs-comment">// 初始化模型</span></span><br><span class="language-javascript"></span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span><br></code></pre></td></tr></table></figure><p>为了免除不必要的麻烦，建议按照下面的文件目录，存放在github仓库的根目录：</p><figure class="highlight 1c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs 1c">root<br><span class="hljs-string">|--model_name</span><br>   <span class="hljs-string">|--xxx.json</span><br>   <span class="hljs-string">|--xxx.json</span><br>   <span class="hljs-string">|--xxx.moc3</span><br>   <span class="hljs-string">|--(more)</span><br></code></pre></td></tr></table></figure><h3 id="step4"><a href="#step4" class="headerlink" title="step4"></a>step4</h3><p>刷新博客，在浏览器上查看是否成功显示live2d形象，可以开浏览器调试工具查看详细信息。如果你看到了图中这几行消息，那么恭喜你成功了！</p><p><img src="https://hovering-clouds.coding.net/p/pic-host/d/blog-comment/git/raw/main/img/2022/06/20/00-22-34.713-image-20220620002230688.png" alt="示意图"></p>]]></content>
    
    
    <categories>
      
      <category>存档-record</category>
      
    </categories>
    
    
    <tags>
      
      <tag>web开发</tag>
      
      <tag>教程</tag>
      
      <tag>技术</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>建站过程5-域名绑定</title>
    <link href="/space/2022/06/30/%E5%BB%BA%E7%AB%99%E8%BF%87%E7%A8%8B5-%E5%9F%9F%E5%90%8D%E7%BB%91%E5%AE%9A/"/>
    <url>/space/2022/06/30/%E5%BB%BA%E7%AB%99%E8%BF%87%E7%A8%8B5-%E5%9F%9F%E5%90%8D%E7%BB%91%E5%AE%9A/</url>
    
    <content type="html"><![CDATA[<p>为你的站点加上自己喜欢的域名！</p><span id="more"></span><h2 id="注册域名"><a href="#注册域名" class="headerlink" title="注册域名"></a>注册域名</h2><p>国内的话随便找一个云服务提供商即可，下面以腾讯云为例：</p><p><img src="https://hovering-clouds.coding.net/p/pic-host/d/blog-comment/git/raw/main/img/2022/06/26/17-16-39.360-image-20220626171635015.png" alt="域名查询"></p><p>一年几十块，对于穷苦学生党来说，还是有些小贵的qwq</p><p>购买前一般都需要实名认证，注册后还要等待相关部门审核域名是否符合规范，我大概等了两天才完成这些审核</p><h2 id="配置DNS"><a href="#配置DNS" class="headerlink" title="配置DNS"></a>配置DNS</h2><p>我们需要配置域名解析服务，使得他人通过域名可以访问到我们之前发布在github上的站点，详细信息参见<a href="https://docs.github.com/cn/pages/configuring-a-custom-domain-for-your-github-pages-site/about-custom-domains-and-github-pages">关于自定义域名和 GitHub 页面 - GitHub Docs</a></p><p>你也可以无脑follow下面的流程：</p><p><img src="https://hovering-clouds.coding.net/p/pic-host/d/blog-comment/git/raw/main/img/2022/06/26/17-29-55.299-image-20220626172952236.png" alt="DNS配置示例"></p><p>其中<code>@</code>表示网站apex域，记录值可以随便选择github给出的几个服务器ip地址之一：</p><figure class="highlight apache"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><code class="hljs apache"><span class="hljs-comment"># ipv4地址，用于A记录</span><br><span class="hljs-attribute">185</span>.<span class="hljs-number">199</span>.<span class="hljs-number">108</span>.<span class="hljs-number">153</span><br><span class="hljs-attribute">185</span>.<span class="hljs-number">199</span>.<span class="hljs-number">109</span>.<span class="hljs-number">153</span><br><span class="hljs-attribute">185</span>.<span class="hljs-number">199</span>.<span class="hljs-number">110</span>.<span class="hljs-number">153</span><br><span class="hljs-attribute">185</span>.<span class="hljs-number">199</span>.<span class="hljs-number">111</span>.<span class="hljs-number">153</span><br><span class="hljs-comment"># ipv6地址，用于AAAA记录</span><br><span class="hljs-attribute">2606</span>:<span class="hljs-number">50</span>c0:<span class="hljs-number">8000</span>::<span class="hljs-number">153</span><br><span class="hljs-attribute">2606</span>:<span class="hljs-number">50</span>c0:<span class="hljs-number">8001</span>::<span class="hljs-number">153</span><br><span class="hljs-attribute">2606</span>:<span class="hljs-number">50</span>c0:<span class="hljs-number">8002</span>::<span class="hljs-number">153</span><br><span class="hljs-attribute">2606</span>:<span class="hljs-number">50</span>c0:<span class="hljs-number">8003</span>::<span class="hljs-number">153</span><br></code></pre></td></tr></table></figure><p>之后回到github page的设置页面：</p><p><img src="https://hovering-clouds.coding.net/p/pic-host/d/blog-comment/git/raw/main/img/2022/06/26/17-33-19.072-image-20220626173312676.png" alt="设置自定义域名"></p><p>理论上这样配置后仓库中会自动生成一个名为<code>CNAME</code>的文件，如果没有，就手动添加一个，并且在其中写入以下内容：</p><figure class="highlight dust"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs dust"><span class="hljs-template-variable">&#123;你的域名1&#125;</span><span class="language-xml"></span><br><span class="language-xml"></span><span class="hljs-template-variable">&#123;你的域名2&#125;</span><span class="language-xml"></span><br><span class="language-xml">   ...</span><br></code></pre></td></tr></table></figure><p>等待一会儿，DNS生效后，即可通过自己的域名访问了，但是之前的<code>github.io</code>原址就都会自动重定向到新地址了……</p>]]></content>
    
    
    <categories>
      
      <category>存档-record</category>
      
    </categories>
    
    
    <tags>
      
      <tag>web开发</tag>
      
      <tag>教程</tag>
      
      <tag>技术</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>建站过程4-附加功能</title>
    <link href="/space/2022/06/29/%E5%BB%BA%E7%AB%99%E8%BF%87%E7%A8%8B4-%E9%99%84%E5%8A%A0%E5%8A%9F%E8%83%BD/"/>
    <url>/space/2022/06/29/%E5%BB%BA%E7%AB%99%E8%BF%87%E7%A8%8B4-%E9%99%84%E5%8A%A0%E5%8A%9F%E8%83%BD/</url>
    
    <content type="html"><![CDATA[<p>本文主要包括评论区、访问统计以及运行时长的实现方法。</p><span id="more"></span><h2 id="评论区"><a href="#评论区" class="headerlink" title="评论区"></a>评论区</h2><p>官方网站：<a href="https://giscus.app/zh-CN">giscus</a></p><p>配置方法：</p><ul><li><p>在官网上按照个人需要选择配置</p><p><img src="https://hovering-clouds.coding.net/p/pic-host/d/blog-comment/git/raw/main/img/2022/06/26/16-32-00.927-image-20220626163143433.png" alt="配置"></p></li><li><p>页面上会自动生成配置代码</p><p><img src="https://hovering-clouds.coding.net/p/pic-host/d/blog-comment/git/raw/main/img/2022/06/26/16-33-36.974-image-20220626163331379.png" alt="代码示例"></p></li><li><p>将这些代码插入你的个人博客页面，或者在个人博客主题的<code>_config.yml</code>文件中配置相应参数</p><p><img src="https://hovering-clouds.coding.net/p/pic-host/d/blog-comment/git/raw/main/img/2022/06/26/16-37-56.141-image-20220626163750911.png" alt="配置参数"></p></li></ul><p>然后你就可以在博客上看到自己的评论区了：</p><p><img src="https://img2.imgtp.com/2024/01/21/CCZXn5Jq.png" alt="评论区"></p><p><strong>快来给我评论！！！</strong></p><h2 id="访问统计"><a href="#访问统计" class="headerlink" title="访问统计"></a>访问统计</h2><p>fluid反正自带不蒜子，因此页脚和文章顶部的阅读次数可以不必我们操心了，但如果希望得到更加详细的访问数据，需要借助一些其它工具：</p><p><a href="https://tongji.baidu.com/web5/10000469801/welcome/login">百度统计</a></p><p>简单注册一个账号，然后进入控制台，加上自己的网站域名：</p><p><img src="https://hovering-clouds.coding.net/p/pic-host/d/blog-comment/git/raw/main/img/2022/06/26/16-52-27.443-image-20220626165223466.png" alt="加入网站"></p><p>点击“获取代码”；</p><p><img src="https://hovering-clouds.coding.net/p/pic-host/d/blog-comment/git/raw/main/img/2022/06/26/16-54-24.501-image-20220626165420569.png" alt="获取代码"></p><p>绿色涂色处是你的统计脚本的token</p><p><img src="https://hovering-clouds.coding.net/p/pic-host/d/blog-comment/git/raw/main/img/2022/06/26/16-56-03.615-image-20220626165559800.png" alt="代码样例"></p><p>之后可以把token填入博客主题的<code>_config</code>文件中（如果支持的话），或者也可以使用代码注入的方法将它添加到你的网站源码中（以下注入方法只适用于fluid主题）：</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs js">hexo.<span class="hljs-property">extend</span>.<span class="hljs-property">filter</span>.<span class="hljs-title function_">register</span>(<span class="hljs-string">&#x27;theme_inject&#x27;</span>, <span class="hljs-keyword">function</span>(<span class="hljs-params">injects</span>) &#123;<br>    injects.<span class="hljs-property">head</span>.<span class="hljs-title function_">file</span>(<span class="hljs-string">&#x27;ana&#x27;</span>,<span class="hljs-string">&#x27;source/_inject/analytics.html&#x27;</span>);<br>&#125;);<br></code></pre></td></tr></table></figure><p>其中我们把上面的代码放在了<code>analytics.html</code>中</p><h2 id="运行时长"><a href="#运行时长" class="headerlink" title="运行时长"></a>运行时长</h2><p>参见 <a href="https://hexo.fluid-dev.com/posts/fluid-footer-custom/">Fluid 页脚增加网站运行时长 </a></p><p>创建<code>duration.js</code>，内容如下：</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><code class="hljs js">!(<span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) &#123;<br>  <span class="hljs-comment">/** 计时起始时间，自行修改 **/</span><br>  <span class="hljs-keyword">var</span> start = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Date</span>(<span class="hljs-string">&quot;2020/01/01 00:00:00&quot;</span>);<br><br>  <span class="hljs-keyword">function</span> <span class="hljs-title function_">update</span>(<span class="hljs-params"></span>) &#123;<br>    <span class="hljs-keyword">var</span> now = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Date</span>();<br>    now.<span class="hljs-title function_">setTime</span>(now.<span class="hljs-title function_">getTime</span>()+<span class="hljs-number">250</span>);<br>    days = (now - start) / <span class="hljs-number">1000</span> / <span class="hljs-number">60</span> / <span class="hljs-number">60</span> / <span class="hljs-number">24</span>;<br>    dnum = <span class="hljs-title class_">Math</span>.<span class="hljs-title function_">floor</span>(days);<br>    hours = (now - start) / <span class="hljs-number">1000</span> / <span class="hljs-number">60</span> / <span class="hljs-number">60</span> - (<span class="hljs-number">24</span> * dnum);<br>    hnum = <span class="hljs-title class_">Math</span>.<span class="hljs-title function_">floor</span>(hours);<br>    <span class="hljs-keyword">if</span>(<span class="hljs-title class_">String</span>(hnum).<span class="hljs-property">length</span> === <span class="hljs-number">1</span> )&#123;<br>      hnum = <span class="hljs-string">&quot;0&quot;</span> + hnum;<br>    &#125;<br>    minutes = (now - start) / <span class="hljs-number">1000</span> /<span class="hljs-number">60</span> - (<span class="hljs-number">24</span> * <span class="hljs-number">60</span> * dnum) - (<span class="hljs-number">60</span> * hnum);<br>    mnum = <span class="hljs-title class_">Math</span>.<span class="hljs-title function_">floor</span>(minutes);<br>    <span class="hljs-keyword">if</span>(<span class="hljs-title class_">String</span>(mnum).<span class="hljs-property">length</span> === <span class="hljs-number">1</span> )&#123;<br>      mnum = <span class="hljs-string">&quot;0&quot;</span> + mnum;<br>    &#125;<br>    seconds = (now - start) / <span class="hljs-number">1000</span> - (<span class="hljs-number">24</span> * <span class="hljs-number">60</span> * <span class="hljs-number">60</span> * dnum) - (<span class="hljs-number">60</span> * <span class="hljs-number">60</span> * hnum) - (<span class="hljs-number">60</span> * mnum);<br>    snum = <span class="hljs-title class_">Math</span>.<span class="hljs-title function_">round</span>(seconds);<br>    <span class="hljs-keyword">if</span>(<span class="hljs-title class_">String</span>(snum).<span class="hljs-property">length</span> === <span class="hljs-number">1</span> )&#123;<br>      snum = <span class="hljs-string">&quot;0&quot;</span> + snum;<br>    &#125;<br>    <span class="hljs-variable language_">document</span>.<span class="hljs-title function_">getElementById</span>(<span class="hljs-string">&quot;timeDate&quot;</span>).<span class="hljs-property">innerHTML</span> = <span class="hljs-string">&quot;本站安全运行&amp;nbsp&quot;</span>+dnum+<span class="hljs-string">&quot;&amp;nbsp天&quot;</span>;<br>    <span class="hljs-variable language_">document</span>.<span class="hljs-title function_">getElementById</span>(<span class="hljs-string">&quot;times&quot;</span>).<span class="hljs-property">innerHTML</span> = hnum + <span class="hljs-string">&quot;&amp;nbsp小时&amp;nbsp&quot;</span> + mnum + <span class="hljs-string">&quot;&amp;nbsp分&amp;nbsp&quot;</span> + snum + <span class="hljs-string">&quot;&amp;nbsp秒&quot;</span>;<br>  &#125;<br><br>  <span class="hljs-title function_">update</span>();<br>  <span class="hljs-built_in">setInterval</span>(update, <span class="hljs-number">1000</span>);<br>&#125;)();<br></code></pre></td></tr></table></figure>]]></content>
    
    
    <categories>
      
      <category>存档-record</category>
      
    </categories>
    
    
    <tags>
      
      <tag>web开发</tag>
      
      <tag>教程</tag>
      
      <tag>技术</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>建站过程3-图床配置</title>
    <link href="/space/2022/06/28/%E5%BB%BA%E7%AB%99%E8%BF%87%E7%A8%8B3-%E5%9B%BE%E5%BA%8A%E9%85%8D%E7%BD%AE/"/>
    <url>/space/2022/06/28/%E5%BB%BA%E7%AB%99%E8%BF%87%E7%A8%8B3-%E5%9B%BE%E5%BA%8A%E9%85%8D%E7%BD%AE/</url>
    
    <content type="html"><![CDATA[<p>基于github&#x2F;coding+picgo的图床实现</p><span id="more"></span><h2 id="步骤"><a href="#步骤" class="headerlink" title="步骤"></a>步骤</h2><ol><li>创建github仓库作为图床；</li><li>配置coding项目作为同步分发；</li><li>配置picgo作为图床客户端；</li><li>配置typora从而将picgo集成到写作环境中；</li></ol><h2 id="图床配置"><a href="#图床配置" class="headerlink" title="图床配置"></a>图床配置</h2><p>此部分想法来源于<a href="https://www.myql.xyz/post/92e90c46/">Coding 图床方案 - 暮雨千泷 </a>，作用是增加国内访问速度，详细教程请参见原文。</p><h2 id="Picgo配置"><a href="#Picgo配置" class="headerlink" title="Picgo配置"></a>Picgo配置</h2><ol><li><p>安装 <a href="https://picgo.github.io/PicGo-Doc/zh/">PicGo</a></p></li><li><p>配置github图床，详细教程参见<a href="https://picgo.github.io/PicGo-Doc/zh/guide/config.html#github%E5%9B%BE%E5%BA%8A">配置手册 | PicGo</a></p></li><li><p>安装插件，此处我使用了compress和rename-file两个插件，前者用于自动压缩图片，后者用于上传时按照指定格式自动重命名，这样方便图床的管理；</p><p><a href="https://github.com/JuZiSang/picgo-plugin-compress#readme">picgo-plugin-compress</a></p><p><a href="https://github.com/liuwave/picgo-plugin-rename-file#readme">picgo-plugin-rename-file</a></p></li></ol><h2 id="typora配置"><a href="#typora配置" class="headerlink" title="typora配置"></a>typora配置</h2><p>在偏好设置中根据自己的需求修改这些选项即可</p><p><img src="https://hovering-clouds.coding.net/p/pic-host/d/blog-comment/git/raw/main/img/2022/06/26/16-20-17.245-image-20220626162013685.png" alt="偏好设置"></p><h2 id="最终效果"><a href="#最终效果" class="headerlink" title="最终效果"></a>最终效果</h2><p>无论是自己通过md语法插入图片，还是拖动图片进入typora窗口，甚至是将剪贴板中的图片<code>ctrl+v</code>贴在想要的位置，typora都会自动通过picgo上传图片，同时将原有图片路径换成上传后的url，非常便利</p>]]></content>
    
    
    <categories>
      
      <category>存档-record</category>
      
    </categories>
    
    
    <tags>
      
      <tag>web开发</tag>
      
      <tag>教程</tag>
      
      <tag>技术</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>建站过程2-站点部署</title>
    <link href="/space/2022/06/27/%E5%BB%BA%E7%AB%99%E8%BF%87%E7%A8%8B2-%E7%AB%99%E7%82%B9%E9%83%A8%E7%BD%B2/"/>
    <url>/space/2022/06/27/%E5%BB%BA%E7%AB%99%E8%BF%87%E7%A8%8B2-%E7%AB%99%E7%82%B9%E9%83%A8%E7%BD%B2/</url>
    
    <content type="html"><![CDATA[<p>在本系列上一篇文章中，我们已经用hexo在本地搭建了一个站点。但是要想让你的网站被他人访问到，还需要将它发布出去。此处我们将使用github pages发布静态的个人站点。</p><span id="more"></span><h2 id="创建仓库"><a href="#创建仓库" class="headerlink" title="创建仓库"></a>创建仓库</h2><ol><li><p>注册一个github账号（然后你就可以在我的博客评论区发言了！）</p></li><li><p>新建一个仓库</p><p><img src="https://hovering-clouds.coding.net/p/pic-host/d/blog-comment/git/raw/main/img/2022/06/26/13-43-38.257-image-20220626134332227.png" alt="新建仓库"></p></li></ol><h2 id="发布静态文件"><a href="#发布静态文件" class="headerlink" title="发布静态文件"></a>发布静态文件</h2><p>运行<code>$ hexo g</code>生成站点静态文件，它们存放在博客文件夹根目录的<code>public</code>文件夹中；</p><p><img src="https://hovering-clouds.coding.net/p/pic-host/d/blog-comment/git/raw/main/img/2022/06/26/13-47-35.310-image-20220626134730617.png" alt="静态文件夹"></p><p>然后将这个文件夹里面的内容上传至之前建立的仓库中</p><p><img src="https://hovering-clouds.coding.net/p/pic-host/d/blog-comment/git/raw/main/img/2022/06/26/13-51-04.310-image-20220626135100714.png" alt="上传"></p><p>成功后的效果图类似这样：</p><p><img src="https://hovering-clouds.coding.net/p/pic-host/d/blog-comment/git/raw/main/img/2022/06/26/13-53-01.659-image-20220626135257767.png" alt="效果图"></p><p>最后使用github page发布站点：</p><p><img src="https://hovering-clouds.coding.net/p/pic-host/d/blog-comment/git/raw/main/img/2022/06/26/14-01-28.424-image-20220626140122983.png" alt="发布"></p><h2 id="一键部署"><a href="#一键部署" class="headerlink" title="一键部署"></a>一键部署</h2><p>如果每次修改文章都要这样重新上传，真是太麻烦了，我们可以通过配置hexo的<code>config.yml</code>文件从而实现一键部署；</p><p>找到这个文件的<code>deploy</code>部分，修改为以下内容：</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs yaml"><span class="hljs-comment"># Deployment</span><br><span class="hljs-comment">## Docs: https://hexo.io/docs/one-command-deployment</span><br><span class="hljs-attr">deploy:</span><br>  <span class="hljs-attr">type:</span> <span class="hljs-string">git</span> <br>  <span class="hljs-attr">repo:</span> <span class="hljs-string">https://github.com/&#123;用户名&#125;/&#123;仓库名&#125;.git</span> <br>  <span class="hljs-attr">branch:</span> <span class="hljs-string">gh-pages</span> <br></code></pre></td></tr></table></figure><p>之后只需要在命令行中运行<code>hexo d</code>即可实现上传到github仓库，当然在此之前需要重新运行<code>hexo g</code>生成静态文件</p>]]></content>
    
    
    <categories>
      
      <category>存档-record</category>
      
    </categories>
    
    
    <tags>
      
      <tag>web开发</tag>
      
      <tag>教程</tag>
      
      <tag>技术</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>建站过程1-博客框架</title>
    <link href="/space/2022/06/26/%E5%BB%BA%E7%AB%99%E8%BF%87%E7%A8%8B1-%E5%8D%9A%E5%AE%A2%E6%A1%86%E6%9E%B6/"/>
    <url>/space/2022/06/26/%E5%BB%BA%E7%AB%99%E8%BF%87%E7%A8%8B1-%E5%8D%9A%E5%AE%A2%E6%A1%86%E6%9E%B6/</url>
    
    <content type="html"><![CDATA[<p>开个新坑，记录一下自己建站过程中的技术流程以及代码实现，有兴趣的读者可以据此自己实现一个属于自己的博客</p><span id="more"></span><h2 id="安装Node-js"><a href="#安装Node-js" class="headerlink" title="安装Node.js"></a>安装Node.js</h2><p><a href="http://nodejs.cn/">Node.js</a> 是一个JavaScript运行环境，而且里面带了npm包管理器，后面安装其它框架的时候会用上。</p><p><img src="https://hovering-clouds.coding.net/p/pic-host/d/blog-comment/git/raw/main/img/2022/06/26/12-26-10.550-image-20220626122518510.png" alt="node.js"></p><h2 id="安装Hexo"><a href="#安装Hexo" class="headerlink" title="安装Hexo"></a>安装Hexo</h2><p>Hexo是一个基于Node.js的博客框架，可以将markdown文件渲染为静态网页，只需要如下安装：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">$ npm install hexo-cli -g<br></code></pre></td></tr></table></figure><p>生成一个默认博客：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs bash">$ hexo init &lt;folder&gt;<br>$ <span class="hljs-built_in">cd</span> &lt;folder&gt;<br>$ npm install<br></code></pre></td></tr></table></figure><p>在本地服务器上运行：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">$ hexo serve<br></code></pre></td></tr></table></figure><p>可查看<a href="https://hexo.io/zh-cn/docs/">用户文档 </a>进一步了解它的使用方法：</p><p><img src="https://hovering-clouds.coding.net/p/pic-host/d/blog-comment/git/raw/main/img/2022/06/26/13-37-55.827-image-20220626133748632.png" alt="hexo默认主页"></p><h2 id="安装fluid"><a href="#安装fluid" class="headerlink" title="安装fluid"></a>安装fluid</h2><p>fluid是一个hexo主题</p><p>在hexo博客根目录下安装即可：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">$ npm install --save hexo-theme-fluid<br></code></pre></td></tr></table></figure><p>之后还需要根据自己的需求配置<code>yaml</code>文件，详见 <a href="https://fluid-dev.github.io/hexo-fluid-docs/start/">Hexo Fluid 用户手册 </a></p><h2 id="发表文章"><a href="#发表文章" class="headerlink" title="发表文章"></a>发表文章</h2><p>将自己的<code>md</code>格式的文件放在<code>_post</code>目录下，然后运行三板斧：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs bash">$ hexo clean<br>$ hexo generate<br>$ hexo serve<br></code></pre></td></tr></table></figure><p>即可在浏览器<code>localhost:4000</code>查看效果</p><p><img src="https://hovering-clouds.coding.net/p/pic-host/d/blog-comment/git/raw/main/img/2022/06/26/13-31-43.731-image-20220626133132754.png" alt="成果图"></p>]]></content>
    
    
    <categories>
      
      <category>存档-record</category>
      
    </categories>
    
    
    <tags>
      
      <tag>web开发</tag>
      
      <tag>教程</tag>
      
      <tag>技术</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>站点发展历程</title>
    <link href="/space/2022/06/18/%E7%AB%99%E7%82%B9%E5%8F%91%E5%B1%95%E5%8E%86%E7%A8%8B/"/>
    <url>/space/2022/06/18/%E7%AB%99%E7%82%B9%E5%8F%91%E5%B1%95%E5%8E%86%E7%A8%8B/</url>
    
    <content type="html"><![CDATA[<p>想听听本站的建设历程吗~</p><span id="more"></span><h2 id="愿望"><a href="#愿望" class="headerlink" title="愿望"></a>愿望</h2><p>（大学以前）</p><p>接触互联网比较晚，大概小学毕业家里才添置了电脑，初中时在网上乱撞的时候，常常会看到一些公开的论坛&#x2F;站点或者是私人的博客，于是很羡慕。正好当时计算机课本（中学时微机课不多）有相关章节，记忆中讲的大概是用什么图形化网页编辑软件之类的，反正就挺想搞一个的，但自然什么都不懂，也不知道去哪学，就只好当做白日梦想想了……</p><h2 id="动机"><a href="#动机" class="headerlink" title="动机"></a>动机</h2><p>（大学一年级）</p><p>因为计概编程题不会写，在无聊搜索答案时突然进入了一位圈友的个人主页，里面有好多令人眼花缭乱的文章以及各式各样的小插件（比如访客地理位置，日历等等），重新燃起了自己搭建自己的站点的动机，但当时也才算是刚接触编程，对网络几乎是一点都不了解，甚至连GitHub是什么都不知道，自然没有足够的能力。</p><p>大一上学期末，学生会里面经验丰富的学长开了一个“全栈工程师速成培训”，我听着挺新鲜，就去听了几次，大概讲的是用Node.js和Vue进行一些开发，当然基本没听懂，不过还是把一些基本的概念记住了，比如html, css, js之类的。</p><p>大一下学期选了个公选课，讲网络协议栈的，认真把书看了一遍，也算是初步了解了网络是啥。我终于明白为了让他人访问自己的网站，需要有ip这种东西，而自然，个人是不容易搞到的。这段时间也算是走了歧路，因为误以为想要搭建个人站点必须要ip，却不知道已经有很多类似托管网页的服务提供了。</p><h2 id="v1-雏形"><a href="#v1-雏形" class="headerlink" title="v1.雏形"></a>v1.雏形</h2><p>（2021.10）</p><p><img src="https://hovering-clouds.coding.net/p/pic-host/d/blog-comment/git/raw/main/img/2022/06/18/11-44-52.697-image-20220618114405806.png" alt="几乎是纯html的站点"></p><p>正值国庆假期，我也闲下来去找了些资料。此时已经大二，偶然听闻GitHub上就可以发布个人站点，于是去整了好久，也只是一步步照着一篇教程弄，写了点html代码，搞了个超链接就弄上去了，也算是有了第一个自己的网页。但自然看起来很……嗯，简朴。</p><h2 id="v2-样式"><a href="#v2-样式" class="headerlink" title="v2.样式"></a>v2.样式</h2><p>（2022年寒假）</p><p><img src="https://hovering-clouds.coding.net/p/pic-host/d/blog-comment/git/raw/main/img/2022/06/18/11-56-06.587-image-20220618115559616.png" alt="学了一寒假三大件的成果"></p><p>在经过大二上一学期的挣扎，我越来越发现自己和周围同学有很多差距，比如自己什么都不懂，他们什么都会。特别是在专业方面，一些非常基础必须的工具，比如命令行、git、Latex 等等。此外自己只会用C&#x2F;C++交一些简单的编程题，连python都不熟练，自然不可能有能力搞什么感兴趣的项目。有感于此，寒假好好补了补相关的知识，比如开始学习git和GitHub，恶补了一波py之类的。当然，我还花了好些时间在html、css和js的基础知识学习上面，边学边练手，整了一个带有css样式和js代码的个人主页，还把oc放在了右下角，挺有成就感的。</p><p>无内鬼，来点梗图：</p><div class="group-image-container"><div class="group-image-row"><div class="group-image-wrap"><img src="https://hovering-clouds.coding.net/p/pic-host/d/blog-comment/git/raw/main/img/2022/06/18/12-21-32.923-610543245132923bf8e1bc5e.png" alt="html-css-js"></div><div class="group-image-wrap"><img src="data:image/jpeg;base64,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" alt="HTML + CSS | Funny - Codeorum.com"></div></div></div><h2 id="v3-轮子"><a href="#v3-轮子" class="headerlink" title="v3.轮子"></a>v3.轮子</h2><p>（大二下期末季）</p><p><img src="https://hovering-clouds.coding.net/p/pic-host/d/blog-comment/git/raw/main/img/2022/06/18/12-10-46.047-image-20220618121038899.png" alt="多用轮子,少敲代码[doge]"></p><p>毕竟好多课都pf了，期末考试中间也有不少空隙，正好不知道该干啥，就继续研究怎么做一个更好看的个人站点。此前纯手工写的代码外观上固然已经够自己用了，而且自定义程度高，但完全是静态的页面，而且是单页的，想要多加一些页面就得把之前的代码重写一遍，非常苦力活，于是一直懒得弄。不过在这个学期，我越来越发现自己之前走入了误区——以为想要实现个人站点就必须纯手撸所有代码！于是，如果我想要搞些交互功能，就得自己去学后端！（事实上我上个寒假还真花了些时间去看Django文档）</p><p>不过在这个学期，我对GitHub的使用进一步精进，学会了在上面直接找别人已经写好的项目自己用。造轮子固然好，但毕竟人的精力有限，不可能事必躬亲，所以多用用别人的代码未尝不是一件好事。经过一些时间的搜索，通过他人文章、GitHub项目，我了解到了hexo框架，于是整了好久，耽误了不少期末复习的时间，完整的走了一遍开发到部署的流程，终于搞好了这一版本的个人博客！</p><p>（555……期末要寄了，不说了不说了要去复习了）</p>]]></content>
    
    
    <categories>
      
      <category>站点-site</category>
      
    </categories>
    
    
    <tags>
      
      <tag>故事</tag>
      
      <tag>web开发</tag>
      
      <tag>技术</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>本站点技术栈</title>
    <link href="/space/2022/06/17/%E6%9C%AC%E7%AB%99%E7%82%B9%E6%8A%80%E6%9C%AF%E6%A0%88/"/>
    <url>/space/2022/06/17/%E6%9C%AC%E7%AB%99%E7%82%B9%E6%8A%80%E6%9C%AF%E6%A0%88/</url>
    
    <content type="html"><![CDATA[<p>搭建本站点过程中使用的各种轮子</p><span id="more"></span><h2 id="网站前端"><a href="#网站前端" class="headerlink" title="网站前端"></a>网站前端</h2><p>Hexo：快速、简洁且高效的博客框架</p><p><a href="https://hexo.io/zh-cn/docs/">文档 | Hexo</a></p><p>Fluid：一款看着还不错的博客主题</p><p><a href="https://hexo.fluid-dev.com/docs/start/">开始使用 | Hexo Fluid 用户手册 (fluid-dev.com)</a></p><h2 id="部署"><a href="#部署" class="headerlink" title="部署"></a>部署</h2><p><a href="https://github.com/">GitHub</a> Pages</p><h2 id="评论区"><a href="#评论区" class="headerlink" title="评论区"></a>评论区</h2><p><a href="https://giscus.app/zh-CN">giscus</a>：基于GitHub discussion</p><h2 id="图床工作流"><a href="#图床工作流" class="headerlink" title="图床工作流"></a>图床工作流</h2><pre><code class=" mermaid">flowchart LR1(typora)==自动上传==&gt;2(PicGo)3&#123;&#123;github&#125;&#125;-.同步.-&gt;4&#123;&#123;coding&#125;&#125;5&#123;站点&#125;3 ==提供内容==&gt;56[tinypng]2 -.压缩插件.-&gt; 66 -.返回.-&gt; 22 ==命名&amp;提交==&gt; 31 ==文本==&gt; 34 --分发--&gt; 5</code></pre><h2 id="统计"><a href="#统计" class="headerlink" title="统计"></a>统计</h2><p>访问量显示：<a href="http://busuanzi.ibruce.info/">不蒜子 - 极简网页计数器 (ibruce.info)</a></p><p>后台统计：<a href="https://tongji.baidu.com/web5/welcome/login">百度统计</a></p><p>运行时长：<a href="https://hexo.fluid-dev.com/posts/fluid-footer-custom/">Fluid 页脚增加网站运行时长</a></p><h2 id="域名"><a href="#域名" class="headerlink" title="域名"></a>域名</h2><p>域名注册：<a href="https://cloud.tencent.com/">腾讯云</a></p><p>DNS服务：<a href="https://www.dnspod.cn/">DNSPod</a></p><p>备案和审核就费了不少时间。。。</p><h2 id="花里胡哨"><a href="#花里胡哨" class="headerlink" title="花里胡哨"></a>花里胡哨</h2><p>下一步打算加一个右下角动态小马，实现方式：</p><ul><li>使用之前的方法，用pt导出的动作流程图，但是较为简陋</li><li>使用live2d技术，但是需要一个别人设计好的模型</li><li>自己设计live2d形象（想啥呢。。。）</li></ul><p>(2022.6.19更新)</p><p>感谢B站up主 @<a href="https://space.bilibili.com/175950763">来养一只狗头猫吧</a> 无偿提供的萍琪live2d模型，最终选择了上面第二种方式实现了这一功能，当然如果能自己设计的话就好了，这样就可以和之前一样用自己的oc了……可惜本人毫无艺术天分(つ﹏⊂)</p><h2 id="成本合计"><a href="#成本合计" class="headerlink" title="成本合计"></a>成本合计</h2><table><thead><tr><th>项目</th><th>成本</th></tr></thead><tbody><tr><td>网站前端</td><td>0</td></tr><tr><td>部署</td><td>0</td></tr><tr><td>评论区</td><td>0</td></tr><tr><td>图床</td><td>0</td></tr><tr><td>统计</td><td>0</td></tr><tr><td>域名</td><td>约100r</td></tr><tr><td>花里胡哨</td><td>未知</td></tr></tbody></table><p>怎么说呢，总体来说还是白嫖的，因为域名这种东西本来也不是必须的，只是这样显得更酷~</p>]]></content>
    
    
    <categories>
      
      <category>存档-record</category>
      
    </categories>
    
    
    <tags>
      
      <tag>web开发</tag>
      
      <tag>教程</tag>
      
      <tag>技术</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>头图介绍</title>
    <link href="/space/2022/06/17/%E5%A4%B4%E5%9B%BE%E4%BB%8B%E7%BB%8D/"/>
    <url>/space/2022/06/17/%E5%A4%B4%E5%9B%BE%E4%BB%8B%E7%BB%8D/</url>
    
    <content type="html"><![CDATA[<p>本站头图的简单介绍</p><span id="more"></span><h2 id="主页头图："><a href="#主页头图：" class="headerlink" title="主页头图："></a>主页头图：</h2><p><img src="https://img1.imgtp.com/2024/01/20/Jk0LAWO3.jpg" alt="twilight"></p><blockquote><p>画师：yvt-jp</p><p>感觉ts观星的插图配上滚动的字幕内容，非常贴切，因此拿这张图作为主页头图。</p></blockquote><h2 id="归档页头图"><a href="#归档页头图" class="headerlink" title="归档页头图"></a>归档页头图</h2><p><img src="https://img1.imgtp.com/2024/01/20/WaXYgbaK.jpg" alt="beam-lib"></p><blockquote><p>当然是自己拍的，某天中午在图书馆睡醒，突然瞥见阳光从窗外照进这个僻静的期刊存放架的角落，于是随手一拍，用在<a href="/personal-blogs/archives">归档</a>这里也非常有意境感。</p></blockquote><h2 id="分类页头图"><a href="#分类页头图" class="headerlink" title="分类页头图"></a>分类页头图</h2><p><img src="https://img1.imgtp.com/2024/01/20/LA5zQYE5.jpg" alt="丽江古城"></p><blockquote><p>今年寒假和晴天会去云南玩的时候，同行的负责摄影的同学拍的。清晨的丽江古城，游人依然稀少，但早点铺的蒸汽已经宣告着新一天的来临，古朴而又弯弯曲曲的小巷，远处的玉龙雪山掩映其中。</p></blockquote><h2 id="标签页头图"><a href="#标签页头图" class="headerlink" title="标签页头图"></a>标签页头图</h2><p><img src="https://img1.imgtp.com/2024/01/20/SfEqapH1.jpg" alt="雪径"></p><blockquote><p>（自摄）去年冬天某次大雪，早上起来闲来无事去未名湖边上的树林里走了走，有不少像我一样悠闲者在用镜头记录雪景。</p></blockquote><h2 id="关于页头图"><a href="#关于页头图" class="headerlink" title="关于页头图"></a>关于页头图</h2><p><img src="https://img1.imgtp.com/2024/01/20/YUkfJcS6.jpg" alt="斜阳"></p><blockquote><p>（自摄）大一下学期期末季，在图书馆旧馆的饱含岁月痕迹的旧书桌上复习高代。在困倦中醒来，却发现傍晚的斜阳正照在自己旁边，可惜这个阅览室今年已经被改造过了，这些桌子也不知所踪。</p></blockquote><h2 id="友链页头图"><a href="#友链页头图" class="headerlink" title="友链页头图"></a>友链页头图</h2><p><img src="https://img1.imgtp.com/2024/01/20/G0aepl2t.jpg" alt="洱海"></p><blockquote><p>（自摄）还是在云南，当时我们正打算从昆明乘火车赶往丽江，已是下午五点，火车八点多就要开了，但我们毅然决定极限操作一把——打车前去滇池看看，再回火车站。多亏了这一决定，我才能在傍晚6点的滇池旁，惬意地吹着风喂着水鸟，欣赏这落日与流云。</p></blockquote><h2 id="文章默认头图"><a href="#文章默认头图" class="headerlink" title="文章默认头图"></a>文章默认头图</h2><p><img src="https://img1.imgtp.com/2024/01/20/tJ0nrof2.jpg" alt="玉龙雪山"></p><blockquote><p>在玉龙雪山的四千多米高度处回望下面的栈道与游人，以及远处的群山和蓝天。摄影by同行的摄影爱好者同学</p></blockquote><h2 id="候选头图"><a href="#候选头图" class="headerlink" title="候选头图"></a>候选头图</h2><p><img src="https://img1.imgtp.com/2024/01/20/39RQ0bj6.jpg" alt="早晨"></p><blockquote><p>（自摄）去年暑假，早晨的图书馆</p></blockquote><p><img src="https://img1.imgtp.com/2024/01/20/sIHBKZIu.jpg" alt="数分"></p><blockquote><p>（自摄）在雪景中，伴着暖气复习数分，何尝不是一种享受……</p></blockquote><p><img src="https://img1.imgtp.com/2024/01/20/swlEVe0J.jpg" alt="bird"></p><blockquote><p>（自摄）也是洱海，来码头整点薯条？</p></blockquote>]]></content>
    
    
    <categories>
      
      <category>图集-gallery</category>
      
    </categories>
    
    
    <tags>
      
      <tag>故事</tag>
      
      <tag>分享</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Hello World</title>
    <link href="/space/2022/06/16/hello-world/"/>
    <url>/space/2022/06/16/hello-world/</url>
    
    <content type="html"><![CDATA[<p>Hello, world!</p><span id="more"></span><p>耶$\sim\sim$终于有了一个看着还行的个人博客了！这是垂云的第一篇文章，也算是一个建站宣告吧。</p><p>正好期末季过半了，而且因为疫情很多课都pf了，正是摸鱼的好时机，于是在网上鼓捣了几天，也算是整了点有趣的东西。正苦于一些灵感没地方释放呢，这个博客正好可以存放一些写的乱七八糟的文章。</p><p>接下来的打算：等期末寄完了之后，搞一个在线发布文章的扩展，每次在本地生成都需要所有文件，还老是push不上去，真是烦人$\sim$</p><p>欢迎有幸光临此处的小伙伴留言哦$\sim$如果你也有个人站点，欢迎到<a href="/personal-blog/links/">友链区</a>留言找我互链！</p>]]></content>
    
    
    <categories>
      
      <category>站点-site</category>
      
    </categories>
    
    
    <tags>
      
      <tag>公告</tag>
      
    </tags>
    
  </entry>
  
  
  
  
</search>
